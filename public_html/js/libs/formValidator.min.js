(function(a){a.fn.extend({formValidator:function(b){this.defaults={formElements:{name:{rules:{errorText:"Hibás mező!",uppercase:true,emptyValue:"",passing:false},checkFunction:function(c,d){if(c===d.emptyValue){d.passing=false}else{d.passing=true}if(d.passing===false){return d.passing}}},mail:{rules:{errorText:"Hibás e-mail!",emptyValue:"",passing:false},checkFunction:function(c,d){if(c===d.emptyValue){d.passing=false}else{d.passing=true}if(d.passing===false){return d.passing}}}}};this.plugin={el:undefined,options:undefined,elements:undefined,errorTextEl:undefined,formElements:new Array(),initialize:function(){this.el=arguments[0];this.options=arguments[1];this.elements=this.options.formElements;for(var c in this.elements){this.formElements.push(a("#"+c))}this.addEvents()},showErrorNotify:function(f,c){if(typeof(f)==="object"){for(var d=0;d<=f.length-1;d++){var e=f[d].el,g=f[d].errorText;this.setErrorTextHtml(e,g)}}else{var e=a("#"+f);this.setErrorTextHtml(e,c)}},setErrorTextHtml:function(c,d){c.after('<span class="error-text">'+d+"</span>");this.errorTextEl=a(".error-text");this.errorTextEl.animate({opacity:1})},formEvents:function(){this.el.on({submit:this.formSubmit,checking:this.formChecking},{self:this})},formSubmit:function(h){if(a(this).find(".error-text").size()>0){return false}var f=false,j=new Array(),g=h.data.self.elements;try{for(var d in g){if(g[d].rules.passing===false){f=true;j.push({el:a("#"+d),errorText:g[d].rules.errorText})}}}catch(c){console.info(c)}if(f){h.data.self.showErrorNotify(j);return false}},formChecking:function(i,f){var h=i.data.self.elements,c=h[f.id];try{var d=c.checkFunction(f.value,c.rules);if(d===false){i.data.self.showErrorNotify(f.id,c.rules.errorText)}}catch(g){console.info(g.message)}},formElementsEvent:function(){for(var c=0;c<=this.formElements.length-1;c++){this.formElements[c].on({focus:this.focusEvent,blur:this.blurEvent},{self:this})}},focusEvent:function(d){var c=a(this).next()[0];if(c!==undefined){a(c).animate({opacity:0,marginLeft:"100px"},function(){a(this).remove()})}},blurEvent:function(g){var f=a(this).val(),h=a(this).attr("id"),d=g.data.self.el;var c={value:f,id:h};d.trigger("checking",c)},addEvents:function(){this.formEvents();this.formElementsEvent()},};this.init=function(c){a.proxy(this.plugin.initialize(this,c),this.plugin)};constructor=function(c){c.options=a.extend(c.defaults,b);c.init(c.options)}(this)}})})(jQuery);